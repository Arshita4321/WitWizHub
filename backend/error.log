{"_message":"Subject validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Create study plan error: Subject validation failed: userId: Path `userId` is required.","stack":"ValidationError: Subject validation failed: userId: Path `userId` is required.\n    at Document.invalidate (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-07-27T19:56:29.311Z"}
{"_message":"Subject validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Create study plan error: Subject validation failed: userId: Path `userId` is required.","stack":"ValidationError: Subject validation failed: userId: Path `userId` is required.\n    at Document.invalidate (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-07-27T20:03:35.972Z"}
{"level":"error","message":"Google auth callback error: Cannot read properties of undefined (reading 'client_id')","stack":"TypeError: Cannot read properties of undefined (reading 'client_id')\n    at OAuth2Client.getTokenAsync (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\google-auth-library\\build\\src\\auth\\oauth2client.js:184:32)\n    at OAuth2Client.getToken (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\google-auth-library\\build\\src\\auth\\oauth2client.js:177:25)\n    at exports.googleCallback (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:41:43)\n    at Layer.handleRequest (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\router\\index.js:582:12)","timestamp":"2025-07-27T20:09:46.563Z"}
{"kind":"ObjectId","level":"error","message":"Patch study plan error: Cast to ObjectId failed for value \"subject_id\" (type string) at path \"_id\" for model \"StudyPlanSubject\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"subject_id\" (type string) at path \"_id\" for model \"StudyPlanSubject\"\n    at SchemaObjectId.cast (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1676:17)\n    at cast (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\mongoose\\lib\\query.js:5055:12)\n    at Query._castConditions (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\mongoose\\lib\\query.js:2351:10)\n    at model.Query._findOne (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\mongoose\\lib\\query.js:2674:8)\n    at model.Query.exec (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\mongoose\\lib\\query.js:4604:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:202:30","stringValue":"\"subject_id\"","timestamp":"2025-07-28T10:33:20.922Z","value":"subject_id","valueType":"string"}
{"level":"error","message":"Delete topic error: subject.topics.id(...).remove is not a function","stack":"TypeError: subject.topics.id(...).remove is not a function\n    at exports.deleteTopic (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:375:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-28T11:16:22.330Z"}
{"level":"error","message":"Delete topic error: subject.topics.id(...).remove is not a function","stack":"TypeError: subject.topics.id(...).remove is not a function\n    at exports.deleteTopic (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:375:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-28T11:16:31.573Z"}
{"level":"error","message":"Delete topic error: subject.topics.id(...).remove is not a function","stack":"TypeError: subject.topics.id(...).remove is not a function\n    at exports.deleteTopic (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:375:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-28T11:17:21.957Z"}
{"level":"error","message":"Delete topic error: subject.topics.id(...).remove is not a function","stack":"TypeError: subject.topics.id(...).remove is not a function\n    at exports.deleteTopic (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:375:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-28T11:26:09.809Z"}
{"level":"error","message":"Patch study plan error: Provided progress (33) does not match calculated progress (33.33333333333333)","stack":"Error: Provided progress (33) does not match calculated progress (33.33333333333333)\n    at exports.patchStudyPlan (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:229:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-28T11:46:24.141Z"}
{"level":"error","message":"Delete topic error: subject.topics.id(...).remove is not a function","stack":"TypeError: subject.topics.id(...).remove is not a function\n    at exports.deleteTopic (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:409:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-28T11:53:54.703Z"}
{"level":"error","message":"Delete topic error: subject.topics.id(...).remove is not a function","stack":"TypeError: subject.topics.id(...).remove is not a function\n    at exports.deleteTopic (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:409:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-28T11:54:19.488Z"}
{"level":"error","message":"Delete topic error: subject.topics.id(...).remove is not a function","stack":"TypeError: subject.topics.id(...).remove is not a function\n    at exports.deleteTopic (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:409:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-28T12:11:44.643Z"}
{"level":"error","message":"Delete topic error: subject.topics.id(...).remove is not a function","stack":"TypeError: subject.topics.id(...).remove is not a function\n    at exports.deleteTopic (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:409:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-28T12:12:05.679Z"}
{"level":"error","message":"Delete topic error: subject.topics.id(...).remove is not a function","stack":"TypeError: subject.topics.id(...).remove is not a function\n    at exports.deleteTopic (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:409:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-28T12:13:03.046Z"}
{"cause":{"code":410,"errors":[{"domain":"global","message":"Resource has been deleted","reason":"deleted"}],"message":"Resource has been deleted","status":"Gone"},"code":410,"config":{"apiVersion":"","headers":{},"method":"DELETE","responseType":"unknown","retry":true,"retryConfig":{"currentRetryAttempt":0,"httpMethodsToRetry":["GET","HEAD","PUT","OPTIONS","DELETE"],"maxRetryDelay":9007199254740991,"noResponseRetries":2,"retry":3,"retryDelayMultiplier":2,"statusCodesToRetry":[[100,199],[408,408],[429,429],[500,599]],"timeOfFirstRequest":1753704789634,"totalTimeout":9007199254740991},"url":"https://www.googleapis.com/calendar/v3/calendars/primary/events/ljjcmt9trf31j7s218ce7l0jbs","userAgentDirectives":[{"comment":"gzip","product":"google-api-nodejs-client","version":"8.0.0"}]},"level":"error","message":"Failed to delete Google Calendar event: ljjcmt9trf31j7s218ce7l0jbs Resource has been deleted","response":{"config":{"apiVersion":"","headers":{},"method":"DELETE","responseType":"unknown","retry":true,"url":"https://www.googleapis.com/calendar/v3/calendars/primary/events/ljjcmt9trf31j7s218ce7l0jbs","userAgentDirectives":[{"comment":"gzip","product":"google-api-nodejs-client","version":"8.0.0"}]},"data":{"error":{"code":410,"errors":[{"domain":"global","message":"Resource has been deleted","reason":"deleted"}],"message":"Resource has been deleted"}},"size":0},"stack":"Error: Resource has been deleted\n    at Gaxios._request (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\gaxios\\build\\cjs\\src\\gaxios.js:154:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async OAuth2Client.requestAsync (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\google-auth-library\\build\\src\\auth\\oauth2client.js:463:20)\n    at async createAPIRequestAsync (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\googleapis-common\\build\\src\\apirequest.js:308:25)\n    at async exports.patchStudyPlan (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:244:17)","status":410,"timestamp":"2025-07-28T12:13:09.634Z"}
{"cause":{"code":"ECONNRESET","errno":"ECONNRESET","erroredSysCall":"read","type":"system"},"code":"ECONNRESET","config":{"apiVersion":"","body":"{\"summary\":\"Study: Chemistry - topic2\",\"start\":{\"dateTime\":\"2025-07-28T12:14:27.684Z\"},\"end\":{\"dateTime\":\"2025-07-29T00:00:00.000Z\"},\"reminders\":{\"useDefault\":false,\"overrides\":[{\"method\":\"popup\",\"minutes\":4320}]}}","data":{"end":{"dateTime":"2025-07-29T00:00:00.000Z"},"reminders":{"overrides":[{"method":"popup","minutes":4320}],"useDefault":false},"start":{"dateTime":"2025-07-28T12:14:27.684Z"},"summary":"Study: Chemistry - topic2"},"duplex":"half","headers":{},"method":"POST","responseType":"unknown","retry":true,"retryConfig":{"currentRetryAttempt":0,"httpMethodsToRetry":["GET","HEAD","PUT","OPTIONS","DELETE"],"maxRetryDelay":9007199254740991,"noResponseRetries":2,"retry":3,"retryDelayMultiplier":2,"statusCodesToRetry":[[100,199],[408,408],[429,429],[500,599]],"timeOfFirstRequest":1753704879684,"totalTimeout":9007199254740991},"url":"https://www.googleapis.com/calendar/v3/calendars/primary/events","userAgentDirectives":[{"comment":"gzip","product":"google-api-nodejs-client","version":"8.0.0"}]},"error":{"code":"ECONNRESET","errno":"ECONNRESET","erroredSysCall":"read","type":"system"},"level":"error","message":"Create study plan error: request to https://www.googleapis.com/calendar/v3/calendars/primary/events failed, reason: read ECONNRESET","stack":"Error: request to https://www.googleapis.com/calendar/v3/calendars/primary/events failed, reason: read ECONNRESET\n    at Gaxios._request (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\gaxios\\build\\cjs\\src\\gaxios.js:164:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async OAuth2Client.requestAsync (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\google-auth-library\\build\\src\\auth\\oauth2client.js:463:20)\n    at async createAPIRequestAsync (C:\\Users\\arshi\\WitWizHub\\backend\\node_modules\\googleapis-common\\build\\src\\apirequest.js:308:25)\n    at async C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:90:25\n    at async Promise.all (index 0)\n    at async C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:78:31\n    at async Promise.all (index 0)\n    at async exports.createStudyPlan (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:69:31)","timestamp":"2025-07-28T12:14:39.684Z"}
{"level":"error","message":"Delete topic error: subject.topics.id(...).remove is not a function","stack":"TypeError: subject.topics.id(...).remove is not a function\n    at exports.deleteTopic (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:409:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-28T12:16:29.210Z"}
{"level":"error","message":"Delete topic error: subject.topics.id(...).remove is not a function","stack":"TypeError: subject.topics.id(...).remove is not a function\n    at exports.deleteTopic (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:409:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-28T12:26:10.636Z"}
{"level":"error","message":"Delete topic error: subject.topics.id(...).remove is not a function","stack":"TypeError: subject.topics.id(...).remove is not a function\n    at exports.deleteTopic (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:409:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-29T10:03:53.353Z"}
{"level":"error","message":"Delete topic error: subject.topics.id(...).remove is not a function","stack":"TypeError: subject.topics.id(...).remove is not a function\n    at exports.deleteTopic (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:409:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-30T07:59:39.130Z"}
{"level":"error","message":"Delete topic error: subject.topics.id(...).remove is not a function","stack":"TypeError: subject.topics.id(...).remove is not a function\n    at exports.deleteTopic (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:409:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-01T18:58:18.565Z"}
{"level":"error","message":"Delete topic error: subject.topics.id(...).remove is not a function","stack":"TypeError: subject.topics.id(...).remove is not a function\n    at deleteTopic (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:441:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-01T19:12:34.421Z"}
{"level":"error","message":"Delete topic error: subject.topics.id(...).remove is not a function","stack":"TypeError: subject.topics.id(...).remove is not a function\n    at deleteTopic (C:\\Users\\arshi\\WitWizHub\\backend\\Controllers\\StudyPlannerController.js:462:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-01T19:32:56.423Z"}
